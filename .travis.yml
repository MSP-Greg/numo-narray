language:
  ruby

rvm:
  - '2.2'
  - '2.3'
  - '2.4'
  - '2.5'
  - '2.6'

matrix:
  fast_finish:
    true

notifications:
  email: false

install: true

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install ruby gcc ruby-dev rake make -y
  - gem install bundler --version '~> 1.3'

script:
  - gem build numo-narray.gemspec
  - gem install numo-narray-*.gem
  - bundle install
  - rake test
